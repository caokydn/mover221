<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Junior English Flashcard Game</title>
<style>
  * { box-sizing: border-box; margin:0; padding:0; }
  body {
    font-family: system-ui, sans-serif;
    background: linear-gradient(135deg, #f9d976, #f39f86);
    color: #0f172a;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Header qu·∫£ng b√° */
  #header {
    width: 100%;
    padding: 10px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    background: linear-gradient(90deg, #fcd34d, #f87171);
    color: white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }

  /* M√†n h√¨nh ch√†o m·ª´ng */
  #welcomeScreen {
    position: fixed;
    inset: 0;
    background: linear-gradient(135deg, #a5f3fc, #fbbfbc, #fde68a);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    color: #0f172a;
    font-size: 28px;
    text-align: center;
    overflow: hidden;
  }
  #welcomeScreen button {
    margin-top: 20px;
    padding: 14px 28px;
    font-size: 20px;
    font-weight: bold;
    border:none;
    border-radius:14px;
    cursor:pointer;
    background: linear-gradient(90deg,#38bdf8,#0ea5e9);
    color:#0f172a;
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  #welcomeScreen button:hover{
    transform: translateY(-2px);
    box-shadow:0 8px 20px rgba(0,0,0,0.4);
  }

  /* B√≥ng bay */
  .balloon {
    position: absolute;
    bottom: -50px;
    border-radius: 50%;
    opacity: 0.8;
    animation: rise 7s linear infinite;
  }
  @keyframes rise {
    0% { transform: translateY(0); opacity:0.8; }
    100% { transform: translateY(-110vh); opacity:0; }
  }

  /* Khu v·ª±c game */
  #gameArea { display:flex; flex-direction:column; align-items:center; margin-top:20px; }
  .card {
    width:320px; height:420px;
    perspective:1000px;
    margin-bottom:20px;
  }
  .inner {
    width:100%; height:100%;
    position:relative;
    transform-style:preserve-3d;
    transition: transform .6s;
  }
  .flipped .inner { transform:rotateY(180deg); }
  .face {
    position:absolute; inset:0;
    backface-visibility:hidden;
    display:flex; align-items:center; justify-content:center;
    border-radius:12px;
    box-shadow:0 10px 20px rgba(0,0,0,.35);
    transition: background 0.5s, color 0.5s;
    padding:10px;
    text-align:center;
    word-wrap: break-word;
  }
  .front {
    background:#a7f3d0; /* pastel xanh nh·∫π cho m·∫∑t tr∆∞·ªõc */
    flex-direction:column;
  }
  .front img { max-width:90%; max-height:80%; border-radius:8px; transition: opacity 0.3s; }
  .back {
    background:#fdd6a7; /* pastel v√†ng */
    color:#1e293b;      
    transform:rotateY(180deg);
    font-size:56px;
    font-weight:bold;
    display:flex;
    justify-content:center;
    align-items:center;
    line-height:1.2;
    word-break: break-word;
  }

  /* N√∫t ƒëi·ªÅu khi·ªÉn */
  .controls { display:flex; gap:15px; justify-content:center; margin-bottom:20px; }
  button.secondary {
    background: #34d399; /* pastel xanh l√° */
    color: #0f172a;
    padding: 12px 24px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 12px;
    cursor:pointer;
    box-shadow:0 4px 10px rgba(0,0,0,0.2);
    transition: background 0.2s, transform 0.2s, box-shadow 0.2s;
  }
  button.secondary:hover { 
    background: #22c55e; 
    transform: translateY(-2px);
    box-shadow:0 6px 15px rgba(0,0,0,0.3);
  }
  button.accent {
    background: linear-gradient(90deg, #38bdf8, #0ea5e9);
    color: #0f172a;
    font-weight: bold;
    padding: 14px 28px;
    font-size: 20px;
    border-radius: 14px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    cursor:pointer;
    transition: transform 0.2s, box-shadow 0.2s;
  }
  button.accent:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
  }

  /* Thumbnails */
  #thumbnails {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap:10px;
    margin-top:10px;
  }
  #thumbnails img {
    width:60px; height:80px;
    border-radius:8px;
    cursor:pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  #thumbnails img:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
  }
</style>
</head>
<body>

<div id="header">üéâ Junior English-113 L√™ Tr·ªçng T·∫•n, ƒê√† N·∫µng üéâ</div>

<div id="welcomeScreen">
  <div>üéâ Junior English ch√†o m·ª´ng c√°c em üéâ</div>
  <button id="startBtn">B·∫Øt ƒë·∫ßu</button>
</div>

<div id="gameArea" style="display:none; flex-direction:column; align-items:center;">
  <audio id="bg-music" src="sound/background music.mp3" loop></audio>
  <audio id="pronounce" src=""></audio>

  <div class="card" id="card">
    <div class="inner">
      <div class="face front">
        <img id="cardImg" alt="image">
      </div>
      <div class="face back">
        <div id="cardWord">WORD</div>
      </div>
    </div>
  </div>

  <div class="controls">
    <button class="secondary" id="prevBtn">T·ª´ tr∆∞·ªõc</button>
    <button class="accent" id="flipBtn">Xem t·ª´ v√† nghe ph√°t √¢m</button>
    <button class="secondary" id="nextBtn">T·ª´ ti·∫øp theo</button>
  </div>

  <div id="thumbnails"></div>
</div>

<script>
const juniorword = ['building','cap','helmet','map','noisy','quick','quiet','racket','road','shopping centre','slow','tall','thousand','ticket'];
const IMG_BASE = "flashcard/";
const RECORDING_BASE = "recording/";

const card = document.getElementById("card");
const imgEl = document.getElementById("cardImg");
const wordEl = document.getElementById("cardWord");
const bgMusic = document.getElementById("bg-music");
const pronounce = document.getElementById("pronounce");
const flipBtn = document.getElementById("flipBtn");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const thumbnailsDiv = document.getElementById("thumbnails");
let index = 0;

// --- B√≥ng bay ---
function createBalloons(num=20){
  const screen = document.getElementById("welcomeScreen");
  const colors = ["#f87171","#fbbf24","#34d399","#60a5fa","#a78bfa","#f472b6"];
  for(let i=0;i<num;i++){
    const b = document.createElement("div");
    b.classList.add("balloon");
    const size = Math.random()*30+20;
    b.style.width=b.style.height=size+"px";
    b.style.left=Math.random()*100+"%";
    b.style.background=colors[Math.floor(Math.random()*colors.length)];
    b.style.animationDuration=(5+Math.random()*3)+"s";
    b.style.animationDelay=(Math.random()*3)+"s";
    screen.appendChild(b);
  }
}
createBalloons();

// --- L·∫•y ·∫£nh v√† √¢m thanh ---
function getImagePath(word){ return IMG_BASE + encodeURIComponent(word) + ".png"; }
function getPronouncePath(word){ return RECORDING_BASE + encodeURIComponent(word) + ".mp3"; }
function filenameToWord(name){ return name.replace(/[_-]+/g," ").trim(); }

// --- Render flashcard ---
function render(){
  const word = juniorword[index];
  imgEl.style.opacity=0; wordEl.style.opacity=0;
  setTimeout(()=>{
imgEl.src = getImagePath(word);
imgEl.onerror = function(){
  this.onerror = null;
  this.src = IMG_BASE + encodeURIComponent(word) + ".jpg";
};
    wordEl.textContent = filenameToWord(word);
    card.classList.remove("flipped");
    imgEl.style.opacity=1; wordEl.style.opacity=1;
    nextBtn.style.display = (index === juniorword.length-1) ? "none" : "inline-block";
  },150);
}

// --- N√∫t ƒëi·ªÅu khi·ªÉn ---
flipBtn.onclick = ()=>{
  card.classList.toggle("flipped");
  const word = juniorword[index];
  pronounce.src = getPronouncePath(word);
  pronounce.play().catch(e=>console.log("Ph√°t √¢m b·ªã ch·∫∑n"));
}
prevBtn.onclick = ()=>{ index=(index-1+juniorword.length)%juniorword.length; render(); }
nextBtn.onclick = ()=>{ index=(index+1)%juniorword.length; render(); }

// --- Thumbnails ---
function createThumbnails(){
  thumbnailsDiv.innerHTML="";
  juniorword.forEach((word,i)=>{
    const img = document.createElement("img");
    
img.src = getImagePath(word);
img.onerror = function(){
  this.onerror = null;
  this.src = IMG_BASE + encodeURIComponent(word) + ".jpg";
};
    img.onclick = ()=>{ index=i; render(); };
    thumbnailsDiv.appendChild(img);
  });
}

// --- B·∫Øt ƒë·∫ßu game ---
document.getElementById("startBtn").onclick = ()=>{
  document.getElementById("welcomeScreen").style.display="none";
  document.getElementById("gameArea").style.display="flex";
  createThumbnails();
  bgMusic.volume = 0.5;
  bgMusic.play().catch(e=>console.log("Nh·∫°c b·ªã ch·∫∑n"));
  render();
}
</script>
</body>
</html>